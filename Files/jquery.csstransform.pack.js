/**
 * jQuery.csstransform
 * 
 * version 1.4
 */
(function(d){function f(a,c,b,g,e,i){if(arguments.length==6){this.a=a;this.b=c;this.c=b;this.d=g;this.tx=e;this.ty=i}}function k(a,c){var b=parseFloat(a);return b+""=="NaN"||b+""=="Infinity"||b+""=="-Infinity"?c===undefined?0:c:b}function n(a){if(!a||!(a in o))throw'Invalid transformation type "'+a+'"';this.type=a;this.args=[].concat(n.defaultArgs[a])}function h(a){this._stack=[];this._stackIndex={};this.element=a||null}function l(a){this.element=a||null;this.origStyle=null;this.origState={};this.wrapper= null;this._stack=[];this._stackIndex={}}var o={matrix:"",rotate:"deg",scale:"",scaleX:"",scaleY:"",skew:"deg",skewX:"deg",skewY:"deg",translate:"px",translateX:"px",translateY:"px",transform:""};d.versionCompare=function(a){a=String(a).split(".");for(var c=d.prototype.jquery.split("."),b=0;b<Math.max(c.length,a.length);b++){if(a[b]===undefined)a[b]=0;if(c[b]===undefined)c[b]=0;if(parseFloat(a[b])>parseFloat(c[b]))return 1;if(parseFloat(a[b])<parseFloat(c[b]))return-1}return 0};d.versionGTE=function(a){return d.versionCompare(a)<= 0};d.versionLTE=function(a){return d.versionCompare(a)>=0};var m=document.createElement("div");d.support.transform=m.style.transform!==undefined?"transform":m.style["-ms-transform"]!==undefined?"-ms-transform":m.style.MozTransform!==undefined?"MozTransform":m.style.WebkitTransform!==undefined?"WebkitTransform":m.style.OTransform!==undefined?"OTransform":false;if(!d.cssHooks)d.cssHooks={};d.cssHooks["multiplied-matrix"]={get:function(a){return h.getInstance(a).get("multiplied-matrix")}};d.each(o,function(a, c){d.cssHooks[a]={set:function(b,g){h.getInstance(b).set(a,g).paint()},get:function(b){return h.getInstance(b).get(a)}};if(a!="matrix")d.fx.step[a]=function(b){b.unit=c;h.getInstance(b.elem).set(a,b.now).paint()}});if(d.versionLTE("1.4.2")){var r=jQuery.curCSS;jQuery.curCSS=function(a,c){var b=d.cssHooks[c]?d.cssHooks[c].get:null;if(b)return b(a);return r.apply(jQuery,arguments)};var s=d.fn.css;d.fn.css=function(a,c){if(typeof a=="string"){if(c!==undefined){var b=d.cssHooks[a]?d.cssHooks[a].set:null; if(b)return this.each(function(g){b(this,d.isFunction(c)?c(g,d(this).css(a)):c)})}}else this.each(function(g){var e,i,j;for(e in a)if(i=d.cssHooks[e]?d.cssHooks[e].set:null){j=a[e];if(d.isFunction(j))j=j(g,d(this).css(e));i(this,j)}});return s.call(this,a,c)}}var t=d.fx.prototype.cur;d.fx.prototype.cur=function(){var a=d.cssHooks[this.prop]?d.cssHooks[this.prop].get:null;if(a)return parseFloat(a(this.elem).replace(/^[^\d-\.\+]*/,""));return t.apply(this,arguments)};f.prototype={a:1,b:0,c:0,d:1,tx:0, ty:0};f.prototype.multiply=function(a){var c=this.a,b=this.b,g=this.c,e=this.d,i=this.tx,j=this.ty;this.a=c*a.a+b*a.c;this.b=c*a.b+b*a.d;this.c=g*a.a+e*a.c;this.d=g*a.b+e*a.d;this.tx=i*a.a+j*a.c+a.tx;this.ty=i*a.b+j*a.d+a.ty;return this};f.prototype.toString=d.browser.mozilla?function(){return this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px"}:function(){return this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty};f.prototype.isIdentity=function(){return this.a=== 1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0};f.rotate=function(a){var c=Math.PI/180*k(a);a=Math.cos(c);c=Math.sin(c);return new f(a,c,-c,a,0,0)};f.scale=function(a,c){a=k(a,1);c=k(c,a);return new f(a,0,0,c,0,0)};f.scaleX=function(a){return new f(k(a,1),0,0,1,0,0)};f.scaleY=function(a){return new f(1,0,0,k(a,1),0,0)};f.translate=function(a,c){return new f(1,0,0,1,k(a),k(c))};f.translateX=function(a){return new f(1,0,0,1,k(a),0)};f.translateY=function(a){return new f(1,0,0,1,0,k(a))}; f.skew=function(a,c){return new f(1,Math.tan(k(c)*(Math.PI/180)),Math.tan(k(a)*(Math.PI/180)),1,0,0)};f.skewX=function(a){return new f(1,0,Math.tan(k(a)*(Math.PI/180)),1,0,0)};f.skewY=function(a){return new f(1,Math.tan(k(a)*(Math.PI/180)),0,1,0,0)};f.matrix=function(a,c,b,g,e,i){return new f(a,c,b,g,e,i)};n.prototype={toString:function(){return this.type+(this.type=="matrix"?"("+this.getMatrix()+")":"("+this.args.join(o[this.type]+", ")+o[this.type]+")")},init:function(){this.args=[];var a=arguments.length; if(a>0){var c;for(c=0;c<a;c++)this.args.push(arguments[c])}return this},getMatrix:function(){return f[this.type].apply(f,this.args)}};n.defaultArgs={matrix:[1,0,0,1,0,0],rotate:[0],scale:[1,1],scaleX:[1],scaleY:[1],skew:[0,0],skewX:[0],skewY:[0],translate:[0,0],translateX:[0],translateY:[0]};h.prototype._defaultValues={matrix:d.browser.mozilla?[1,0,0,1,"0px","0px"]:[1,0,0,1,0,0],rotate:["0deg"],scale:[1,1],scaleX:[1],scaleY:[1],skew:["0deg","0deg"],skewX:["0deg"],skewY:["0deg"],translate:["0px","0px"], translateX:["0px"],translateY:["0px"]};h.prototype.empty=function(){this._stack=[];this._stackIndex={};return this};h.prototype.isEmpty=function(){return this._stack.length===0};h.prototype.get=function(a){if(!a||a=="transform")return this.toString();if(a=="multiplied-matrix")return"matrix("+this.getMatrix()+")";if(this._stackIndex[a]!==undefined)return this._stack[this._stackIndex[a]].toString();return a+"("+this._defaultValues[a].join(", ")+")"};h.prototype.toString=function(){for(var a=[],c=this._stack.length;c;)a.unshift(this._stack[--c].toString()); return a.join(" ")||"none"};h.prototype.getMatrix=function(){for(var a=new f,c=this._stack.length;c;)a.multiply(this._stack[--c].getMatrix());return a};h.prototype.getCSS=function(){return this.toString()};h.prototype.setCSS=function(a){this.empty();var c=/^(\w+)\(([\d\w,-\.]+)$/i;if((a=String(a||""))&&a!="none"){a=a.replace(/\s+/g,"").split(")");if(a.length>0)for(var b,g,e=0;e<a.length;e++)if(a[e])if(b=c.exec(a[e])){g=b[1];specialProps[g]&&this.set(g,b[2])}}return this};h.prototype.set=function(a, c){if(a)if(a=="transform")this.setCSS(c);else if(a!="none"){for(var b=d.isArray(c)?c:typeof c=="string"?c.split(/,/):[c],g=[],e=b.length,i,j,p,q;e;){i=b[--e];if(this._stackIndex[a]===undefined)this._stackIndex[a]=this._stack.push(new n(a))-1;q=this._stack[this._stackIndex[a]];p=parseFloat(q.args[e]);i=d.trim(String(i));if(j=i.replace(/\s/g,"").match(/^(([\+-]=)?(-?\d+(\.\d+)?)).*$/)){if(j[3])i=parseFloat(j[3]);if(j[2])switch(j[2]){case "+=":i=p+i;break;case "-=":i=p-i}}isNaN(i)||g.push(i)}q.args= g}return this};h.prototype.paint=function(){this.element.style[d.support.transform]=this.toString();return this};h.factory=function(a){if(!d.support.transform)if(h.isFilterSupported())return new l(a);return new h(a)};h.getInstance=function(a){if(!a.transformManager)a.transformManager=h.factory(a);return a.transformManager};h.isFilterSupported=function(){var a=document.getElementsByTagName("body")[0].filters,c=a&&typeof a=="object"&&!window.opera;h.isFilterSupported=function(){return c};return c}; l.prototype=new h;l.prototype.paint=function(){this.origStyle||this.initTransform();var a=this.getMatrix();if(a.isIdentity())this.uninitTransform();else{var c=Math.abs(a.b-a.c);if(c>100)a.b*=c/100;if(a.a!==1||a.b!==0||a.c!==0||a.d!==1)this.element.style.filter=" progid:DXImageTransform.Microsoft.Matrix(M11="+a.a+",M12="+a.c+",M21="+a.b+",M22="+a.d+",sizingMethod='auto expand',FilterType='nearest neighbor') "+String(this.element.style.filter||"").replace(/(progid:DXImageTransform\.Microsoft\.)?Matrix\s*\([^\)]*\)\s*/gi, "");this.element.style.top=(this.origState.height-d(this.element).height())/2+a.ty+this.origState.top+"px";this.element.style.left=(this.origState.width-d(this.element).width())/2+a.tx+this.origState.left+"px"}return this};l.prototype.initTransform=function(){function a(){if(!g.origStyle)g.origStyle={};for(var e=0;e<arguments.length;e++)g.origStyle[arguments[e]]=b.css(arguments[e])}function c(){var e=b.css("float");if(e=="none")e=b.attr("align");if(e!="left"&&e!="right")e="none";return e}var b=d(this.element), g=this;this.origState={width:b.width(),height:b.height(),top:0,left:0};switch(b.css("position")){case "absolute":this.origState.top=b.position().top;this.origState.left=b.position().left;a("width","height","top","left");b.css({width:this.origState.width,height:this.origState.height,top:this.origState.top,left:this.origState.left});break;case "fixed":this.origState.top=b.offset().top;this.origState.left=b.offset().left;a("width","height","top","left");b.css({width:this.origState.width,height:this.origState.height, top:this.origState.top,left:this.origState.left});break;case "relative":this.origState.top=parseFloat(b.css("top"));this.origState.left=parseFloat(b.css("left"));if(isNaN(this.origState.top))this.origState.top=0;if(isNaN(this.origState.left))this.origState.left=0;a("width","height","top","left","position");b.css({width:this.origState.width,height:this.origState.height,top:this.origState.top,left:this.origState.left,position:"absolute"});if(!this.wrapper){b.wrap('<span class="dmx-filter-transform-wrapper" />'); this.wrapper=b.parent().css({display:b.css("display")=="block"?"block":"inline-block",position:"relative","float":c(),width:b.outerWidth({margin:true}),height:b.outerHeight({margin:true})})}break;default:this.origState.top=0;this.origState.left=0;a("width","height","top","left","position");b.css({width:this.origState.width,height:this.origState.height,top:this.origState.top,left:this.origState.left,position:"absolute"});if(!this.wrapper){b.wrap('<span class="dmx-filter-transform-wrapper" />');this.wrapper= b.parent().css({display:b.css("display")=="block"?"block":"inline-block",position:"relative","float":c(),width:b.outerWidth({margin:true}),height:b.outerHeight({margin:true})})}}};l.prototype.uninitTransform=function(){this.origState={};if(this.origStyle){d(this.element).css(this.origStyle);this.origStyle=null}if(this.wrapper){this.wrapper.before(d(this.element));this.wrapper.remove();this.wrapper=null}}})(jQuery);